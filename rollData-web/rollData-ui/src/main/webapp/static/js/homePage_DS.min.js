layui.define(["wdUtil","admin","table","form","laydate","eleTree","notice","pscrollbar"],function(){var e=layui.jquery,i=(layui.element,layui.setter),t=(layui.device(),layui.wdUtil),n=layui.pscrollbar,s={"数据采集":i.basePath+"static/images/nav/shujufenxi.png","数据查询":i.basePath+"static/images/nav/shujuchaxun.png","上报办理":i.basePath+"static/images/nav/shangbaobanli.png","财务分析":i.basePath+"static/images/nav/caiwufenxi.png","销售分析":i.basePath+"static/images/nav/xiaoshoufenxi.png","企业报表":i.basePath+"static/images/nav/qiyebaobiao.png","我的办理":i.basePath+"static/images/nav/wodemulu.png","数据源管理":i.basePath+"static/images/nav/shujuyuanguanli.png","模型管理":i.basePath+"static/images/nav/moxingguanli.png","表单设计":i.basePath+"static/images/nav/biaodansheji.png","配置管理":i.basePath+"static/images/nav/peizhiguanli.png","自定义1":i.basePath+"static/images/nav/caiwufenxi.png","自定义2":i.basePath+"static/images/nav/xiaoshoufenxi.png","自定义3":i.basePath+"static/images/nav/qiyebaobiao.png","自定义4":i.basePath+"static/images/nav/wodemulu.png"},c=1;function a(){var a=i.basePath+"functionController/queryUserAvailable";t.send(a,{parentId:""},function(a){if(a){var i=e(".DSwrap"),t=[];a.obj.treeNodes&&a.obj.treeNodes.length&&(layui.sessionData("userAvailable",{key:"navs",value:a.obj.treeNodes}),a.obj.treeNodes.forEach(function(a,i){var e=s[a.name];e||(e=s["自定义"+c],4<(c+=1)&&(c=1)),t.push('<div class="nav-item-box"><div class="nav-item" data-type="'+a.hrefType+'" data-path="'+a.hrefLink+'" data-name="'+a.name+'" data-funcid="'+a.funcId+'" data-id="'+a.id+'"><div class="nav-icon nav-icon-1" style="background-image:url('+e+');"></div><div class="nav-txt">'+a.name+"</div></div></div>")})),i.html(t.join("")),e(".nav-item").off("click").on("click",function(){var a=e(this);e(".nav-item");a.attr("data-path")&&layui.admin.loadMoreSide(a,!0)}),o()}})}function o(){var a=e(".DSwrap").width(),i=e(".nav-item-box");1500<a?i.css("width","20%"):a<1500&&1e3<a?i.css("width","25%"):a<1e3&&i.css("width","33.3%")}a(),e(".weatherWrap").each(function(a,i){e(i).hasClass("ps")||new n(i)}),e(document).resize(function(){o()})});